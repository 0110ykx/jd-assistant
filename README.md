# jd-assistant

京东抢购助手

## 功能

- 模拟登陆京东商城（jd.com）
  - 账号密码登录 (如需验证码会提示输入)
  - 手机扫码登录
  - 保存/加载登录cookies (可验证cookies是否过期)
- 商品查询操作
  - 提供完整的[`地址⇔ID`](./area_id/)对应关系
  - 根据商品ID和地址ID查询库存
  - 根据商品ID查询价格
- 购物车操作
  - 添加/清空购物车 (无货商品也可以加入购物车，预约商品无法加入)
  - 获取购物车商品详情
- 订单提交操作
  - 获取订单结算页面信息 (商品详情, 应付总额, 收货地址, 收货人等)
  - 提交订单 (剩余个别参数未分析，待完成)
- 订单查询操作
  - 获取个人中心订单信息 (可选择只显示未付款订单)

## 运行环境

- Python 3.5

## 第三方库

- [Requests](http://docs.python-requests.org/en/master/)
- [Beautiful Soup](https://www.crummy.com/software/BeautifulSoup/bs4/doc/)
- [PyCrypto](https://www.dlitz.net/software/pycrypto/) ([Python3.5快速安装PyCrypto](https://github.com/sfbahr/PyCrypto-Wheels))

## Todo

- ~~添加扫码登陆功能~~
- ~~添加商品库存查询功能~~
- ~~添加根据地址获取ID功能~~（暂时根据地址ID表对应查询）
- ~~添加商品价格查询功能~~ (计划添加分别获取网页端，APP端，手机QQ端，微信端价格)
- 添加商品下单功能 (~~添加购物车~~->~~结算页面~~->下单)
- ~~检查本地保存的cookies是否过期~~
- ~~获取登录用户信息 (用户昵称等)~~
- ~~添加订单查询功能~~
- 添加定时下单功能
- 添加日志记录功能
- 添加用户界面

## Remark

- 京东商城的登录机制经常改动，当前测试时间`2018.7.10`。如果失效，请在issue中提出，我会来更新。
- 使用帐号密码登陆时，第一次登陆可能会出现无需验证码但是登陆失败的情况，再次登陆就会提示需要验证码并正常登录。
- 图片查看器背景颜色为黑色时，二维码会出现无法扫描的情况 (多发于`win10`系统)，请更换软件打开图片。
